{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { autoBind, Choose } from \"react-extras\";\nimport { Component } from \"react\";\nimport { withRouter } from \"next/router\";\nimport { Heading, IconButton, minorScale, Pane, TextInput, Tooltip } from \"evergreen-ui\";\nimport ClickOutHandler from \"react-onclickout\";\nimport { withData } from \"../../hocs/with-data\";\nvar footerMessage = \"press ‚èé to submit value\";\n\nvar EditableTitle =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(EditableTitle, _Component);\n\n  function EditableTitle(props) {\n    var _this;\n\n    _classCallCheck(this, EditableTitle);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(EditableTitle).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"input\", void 0);\n\n    autoBind(_assertThisInitialized(_this));\n    _this.state = {\n      editing: false\n    };\n    return _this;\n  }\n\n  _createClass(EditableTitle, [{\n    key: \"focus\",\n    value: function focus() {\n      this.input.focus && this.input.focus();\n    }\n  }, {\n    key: \"updateName\",\n    value: function updateName(value) {\n      var _this$props = this.props,\n          repo = _this$props.repo,\n          updateRepo = _this$props.updateRepo;\n      repo.name = value;\n      updateRepo(repo);\n    }\n  }, {\n    key: \"navigateHome\",\n    value: function navigateHome() {\n      var router = this.props.router;\n      router.push(\"/\");\n    }\n  }, {\n    key: \"onSubmit\",\n    value: function onSubmit(e) {\n      e.stopPropagation();\n      this.props.updateFooter(undefined);\n      this.setState({\n        editing: false\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var editing = this.state.editing;\n      var _this$props2 = this.props,\n          repo = _this$props2.repo,\n          updateFooter = _this$props2.updateFooter;\n      var value = repo.name;\n      return __jsx(Pane, {\n        marginBottom: 16,\n        marginTop: 16,\n        width: \"100%\",\n        display: \"inline-flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\"\n      }, __jsx(Tooltip, {\n        content: \"Back to Repositories\"\n      }, __jsx(IconButton, {\n        flexShrink: 0,\n        onClick: this.navigateHome,\n        icon: \"arrow-left\"\n      })), __jsx(Choose, null, __jsx(Choose.When, {\n        condition: editing\n      }, __jsx(ClickOutHandler, {\n        onClickOut: function onClickOut() {\n          return _this2.setState({\n            editing: false\n          }, function () {\n            return updateFooter(undefined);\n          });\n        }\n      }, __jsx(\"form\", {\n        onSubmit: this.onSubmit,\n        style: {\n          display: \"flex-inline\",\n          marginLeft: minorScale(3),\n          flex: 1\n        }\n      }, __jsx(TextInput, {\n        innerRef: function innerRef(ref) {\n          _this2.input = ref;\n        },\n        height: 32,\n        onChange: function onChange(e) {\n          return _this2.updateName(e.target.value);\n        },\n        placeholder: \"maxchehab/gh-code\",\n        spellCheck: false,\n        value: value,\n        width: \"100%\"\n      })))), __jsx(Choose.Otherwise, null, __jsx(Heading, {\n        marginLeft: minorScale(3),\n        onClick: function onClick() {\n          return _this2.setState({\n            editing: true\n          }, function () {\n            updateFooter(footerMessage);\n\n            _this2.focus();\n          });\n        },\n        cursor: \"pointer\",\n        textDecoration: \"underline\",\n        size: 600,\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        flexGrow: 1\n      }, value), __jsx(Tooltip, {\n        content: \"Edit the name\"\n      }, __jsx(IconButton, {\n        flexShrink: 0,\n        marginLeft: minorScale(3),\n        height: 24,\n        onClick: function onClick() {\n          return _this2.setState({\n            editing: true\n          }, function () {\n            console.log(updateFooter);\n            updateFooter(footerMessage);\n\n            _this2.focus();\n          });\n        },\n        icon: \"edit\"\n      })))));\n    }\n  }]);\n\n  return EditableTitle;\n}(Component);\n\nexport default withRouter(withData(EditableTitle));","map":null,"metadata":{},"sourceType":"module"}