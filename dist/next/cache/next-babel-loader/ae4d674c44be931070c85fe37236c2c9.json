{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { autoBind, Choose, If } from \"react-extras\";\nimport { Component } from \"react\";\nimport { withRouter } from \"next/router\";\nimport { IconButton, minorScale, Pane, Text, Heading, TextInput, Tooltip } from \"evergreen-ui\";\nimport ClickOutHandler from \"react-onclickout\";\nimport { withData } from \"../../hocs/with-data\";\nvar footerMessage = \"press ‚èé to submit value\";\n\nvar EditableLocalPath =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(EditableLocalPath, _Component);\n\n  function EditableLocalPath(props) {\n    var _this;\n\n    _classCallCheck(this, EditableLocalPath);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(EditableLocalPath).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"input\", void 0);\n\n    autoBind(_assertThisInitialized(_this));\n    _this.state = {\n      editing: false\n    };\n    return _this;\n  }\n\n  _createClass(EditableLocalPath, [{\n    key: \"updateName\",\n    value: function updateName(value) {\n      var _this$props = this.props,\n          repo = _this$props.repo,\n          updateRepo = _this$props.updateRepo;\n      repo.localPath = value;\n      updateRepo(repo);\n    }\n  }, {\n    key: \"navigateHome\",\n    value: function navigateHome() {\n      var router = this.props.router;\n      router.push(\"/\");\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      this.input.focus && this.input.focus();\n    }\n  }, {\n    key: \"onSubmit\",\n    value: function onSubmit(e) {\n      e.stopPropagation();\n      this.props.updateFooter(undefined);\n      this.setState({\n        editing: false\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var editing = this.state.editing;\n      var _this$props2 = this.props,\n          repo = _this$props2.repo,\n          updateFooter = _this$props2.updateFooter;\n      var value = repo.localPath;\n      return __jsx(Pane, {\n        borderBottom: \"1px solid #EDF0F2\",\n        marginTop: 8,\n        paddingBottom: 8,\n        width: \"100%\"\n      }, __jsx(Pane, {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\"\n      }, __jsx(Heading, {\n        size: 300\n      }, \"Local Path:\"), __jsx(If, {\n        condition: !editing\n      }, __jsx(Tooltip, {\n        content: \"Edit the local path\"\n      }, __jsx(IconButton, {\n        height: 24,\n        onClick: function onClick() {\n          return _this2.setState({\n            editing: true\n          }, function () {\n            updateFooter(footerMessage);\n\n            _this2.focus();\n          });\n        },\n        icon: \"edit\"\n      })))), __jsx(Pane, {\n        marginTop: minorScale(1)\n      }, __jsx(Choose, null, __jsx(Choose.When, {\n        condition: editing\n      }, __jsx(ClickOutHandler, {\n        onClickOut: function onClickOut() {\n          return _this2.setState({\n            editing: false\n          }, function () {\n            return updateFooter(undefined);\n          });\n        }\n      }, __jsx(\"form\", {\n        onSubmit: this.onSubmit\n      }, __jsx(TextInput, {\n        innerRef: function innerRef(ref) {\n          _this2.input = ref;\n        },\n        height: 32,\n        onChange: function onChange(e) {\n          return _this2.updateName(e.target.value);\n        },\n        placeholder: \"/home/projects/gh-code\",\n        spellCheck: false,\n        value: value,\n        flex: 1\n      })))), __jsx(Choose.Otherwise, null, __jsx(\"div\", {\n        onClick: function onClick() {\n          return _this2.setState({\n            editing: true\n          }, function () {\n            updateFooter(footerMessage);\n\n            _this2.focus();\n          });\n        }\n      }, __jsx(Text, {\n        cursor: \"pointer\"\n      }, value))))));\n    }\n  }]);\n\n  return EditableLocalPath;\n}(Component);\n\nexport default withRouter(withData(EditableLocalPath));","map":null,"metadata":{},"sourceType":"module"}